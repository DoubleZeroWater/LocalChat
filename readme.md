# 局域网聊天工具

----

本项目是使用python3搭建的一个局域网聊天工具，可以使用本系统进行文本通信，语音通信、视频聊天和文件传输。

### 库安装步骤

```shell
#主要的库
pip3 install PyQt5
pip3 install opencv_python
pip3 install pyaudio
```

### 运行步骤

在安装完必要的库之后，就可以运行了，需要运行文件main.py.

通常不要在本机打开两个程序进行连接，会造成语音和视频的Bug。

启动之后，可以看到选择按钮，当需要多人通信时，选择多人通信模式，需要双人通信时，选择双人通信模式。

**在运行过程中如果发生任何Bug，可以完全退出重进，通常可以解决。**

1. 双人通信模式

- 文本通信
- 视频通信
- 语音通信
- 文件传输

进入双人通信模式之后，需要输入对方的IP，对方的端口，自己需要开放的端口(默认为22222)，然后点击连接。
默认等待超时为60s，如果对方60s后还没有连接，则会断开连接。如果对方连接成功，会进入到功能选择的界面。

对于文本通信，直接发送即可。

对于语音通信，对方接受后，直接可以通过麦克风进行对话，关闭点击挂断或者右上角即可。

对于视频通信，对方接受后，即可显示对方摄像头，关闭需要按下**ESC**，双方都需要关闭。

对于文件传输，对方接收后，双方都可以进行传输，文件大小不限，可以选择文件或者文件夹，
但是文件的最大的大小**不能够大于总共可以使用的内存的大小**。

2. 多人通信模式

- 文本通信
- 语音通信
- 文件传输

进入多人通信模式之后，可以选择成为房主或者选择加入某个房间，对于成为房主而言，房主需要填入自己需要开放的端口，
如果选择加入某个房间，需要填写加入的房间的IP和端口。就会进入的功能选择的界面。

对于文本通信，直接发送即可。

对于语音通信，**仅有房主可以选择开启**，有人接受后，直接可以通过麦克风进行对话，如果房主点击退出语音，
则所有人都会退出语音，如果成员点击退出语音，那对应的的成员会退出语音，但是其他人仍然可以进行语音。

对于文件传输，**仅有房主可以选择发送文件**，有人接收后，对方可以进行接受，
文件大小不限(**不能够大于总共可以使用的内存的大小**)。
